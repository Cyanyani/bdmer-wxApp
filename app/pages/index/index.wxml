<view class='page'>
    <!-- 图片轮播 -->
    <view id="banner">
        <swiper
        indicator-dots="{{true}}"
        autoplay="{{true}}"
        interval="{{4000}}"
        duration="{{1000}}"
        >
            <block wx:for="{{banner}}" wx:key="*this">
                <swiper-item>
                    <image src="{{item}}" style='width:100%;height:100%'/>
                </swiper-item>
            </block>
        </swiper>
    </view>
    <!-- 隔离线 -->
    <view id="line" style='border:1px solid #f5f5f5'></view>

    <!-- 功能模块 -->
    <view id="feature">
        <wux-white-space size="large" bodyStyle="background:#FFFFFF" />
        <wux-grids col="3" bordered="{{ false }}">
            <wux-grid hover-class="none" bind:click="goPublishTask">
                <i-icon type="editor" size="30" />
                <view>发布任务</view>
            </wux-grid>
            <wux-grid hover-class="none" bind:click="goCurrentTask">
                <i-icon type="task" size="30" />
                <view>当前任务</view>
            </wux-grid>
            <wux-grid hover-class="none" bind:click="goHistoryTask">
                <i-icon type="createtask"  size="30" />
                <view>历史任务</view>
            </wux-grid>
        </wux-grids>
    </view> 

    <!-- 隔离线 -->
    <view id="line" style='border:1px solid #f5f5f5'></view>

    <!-- 任务 -->
    <view>
        <block wx:for="{{ tasks }}" wx:key="taskId">
            <wux-white-space size="large"  bodyStyle="background:#FFFFFF;"  />
            <view bindtap="goTaskDetail" data-task-id="{{item.taskId}}" > 
                <i-card  title="{{item.title}}" extra="{{item.createTime}}" thumb="{{item.avatarUrl}}" i-class="card-demo">
                    <view slot="content" style="height:56px">{{item.contentBrief}}</view>
                    <view slot="footer" class="container" style='justify-content:space-between'>
                        <view>
                            <span style="font-size:14px;margin-right:20px;">{{item.endTime}}</span>
                            <i-icon type="coordinates" />
                            <span>{{item.distance}}公里</span>
                        </view>
                        <view>
                            <i-tag wx:if="{{item.type == 'NOTICE'}}" name="{{item.type}}" color="red">通知公告</i-tag>
                            <i-tag wx:if="{{item.type == 'WAIKUAI'}}" name="{{item.type}}" color="green">外卖快递</i-tag>
                            <i-tag wx:if="{{item.type == 'LOSTF'}}" name="{{item.type}}" color="blue">失物招领</i-tag>
                            <i-tag wx:if="{{item.type == 'OTHER'}}" name="{{item.type}}" color="yellow">其他</i-tag>
                        </view>
                    </view>
                </i-card>
            </view>

        </block> 
    </view>

    <!-- 加载中 -->
    <view id="loading">
        <wux-white-space size="default" bodyStyle="background:#FFFFFF" />
        <view wx:if="{{showSpin}}" class='container'>
            <i-spin size="small"></i-spin>
            <i-spin size="small"></i-spin>
            <i-spin size="small"></i-spin>
        </view>
        <wux-white-space size="default" bodyStyle="background:#FFFFFF" />
    </view>
   
    <!-- 加载完毕 -->
    <wux-divider wx:if="{{showLoadOk}}" show-text="{{ true }}" text="加载已经完成" />
    <wux-white-space size="default" bodyStyle="background:#FFFFFF" />

    <!-- 错误提示 -->
    <i-message id="message" />
</view>

